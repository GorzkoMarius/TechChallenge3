<div class="chat-container mat-elevation-z4">
  <mat-toolbar color="primary" class="chat-header">
    <span>LSEG chatbot</span>
  </mat-toolbar>
  <div class="chat-box" id="chat-box" #chatBox>
    <!-- i display each message that appears in the messages array and display them one by one depending on what type of message they are, bot or user -->
    <div *ngFor="let message of messages" class="message" [ngClass]="{'bot-message': message.bot, 'user-message': !message.bot}">
      <!-- i check to see if the message has options and in case it does i display them, the options are clickable so the use does not have to necesarely input by hand -->
      <ng-container *ngIf="!message.options">
        <span>{{ message.text }}</span>
      </ng-container>
      <ng-container *ngIf="message.options">
        <span>{{ message.text }}</span>
        <div *ngFor="let option of message.options" (click)="sendOption(option)" class="option mat-elevation-z2">
          {{ option }}
        </div>
      </ng-container>
    </div>
  </div>
  <!-- the form for the user input i did not add error validation here as i dont see a point as i validated in the code for the bot to respond in case the input is not correct-->
  <form [formGroup]="chatForm" (ngSubmit)="sendMessage()" class="chat-input">
    <mat-form-field class="input-field" appearance="outline">
      <mat-label>Type your message here...</mat-label>
      <input matInput formControlName="message" autocomplete="off">
    </mat-form-field>
    <button mat-icon-button color="primary" type="submit" aria-label="Send message">
      <mat-icon>send</mat-icon>
    </button>
  </form>
</div>
